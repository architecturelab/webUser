@model WebApp.Models.Aplicacion.ActivoDTO

<link href="~/Plantilla/assets/plugins/datatables/media/css/dataTables.bootstrap4.css" rel="stylesheet" />
<link href="~/Plantilla/assets/plugins/sweetalert/sweetalert.css" rel="stylesheet" />

<!-- ============================================================== -->
<!-- Bread crumb and right sidebar toggle -->
<!-- ============================================================== -->
<div class="row page-titles">
    <div class="col-md-5 col-8 align-self-center">
        <h3 class="text-themecolor">Gestión Activos</h3>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="@Url.Action("BandejaActivos","Activo")">Bandeja Activos</a></li>
            <li class="breadcrumb-item active">Detalle Activo</li>
        </ol>
    </div>
</div>
<!-- ============================================================== -->
<!-- End Bread crumb and right sidebar toggle -->
<!-- ============================================================== -->
<!-- Sección Datos Basicos Elemento -->
<div class="row">
    <div class="col-lg-12">
        <div class="card card-outline-info">
            <div class="card-header">
                <h4 class="m-b-0 text-white">Detalle Activo</h4>
            </div>
            <div class="card-body">
                <div class="form-body">
                    <h3 class="box-title">Activo</h3>
                    <hr class="m-t-0 m-b-40">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="control-label text-right col-md-3">Clase:</label>
                                <div class="col-md-9">
                                    <p class="form-control-static"> @Model.claseIdStr </p>
                                </div>
                            </div>
                        </div>
                        <!--/span-->
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="control-label text-right col-md-3">Marca:</label>
                                <div class="col-md-9">
                                    <p class="form-control-static"> @Model.marcaIdStr </p>
                                </div>
                            </div>
                        </div>
                        <!--/span-->
                    </div>
                    <!--/row-->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="control-label text-right col-md-3">Serial:</label>
                                <div class="col-md-9">
                                    <p class="form-control-static"> @Model.serial </p>
                                </div>
                            </div>
                        </div>
                        <!--/span-->
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="control-label text-right col-md-3">Fecha Ingreso:</label>
                                <div class="col-md-9">
                                    <p class="form-control-static"> @Model.fechaIngreso </p>
                                </div>
                            </div>
                        </div>
                        <!--/span-->
                    </div>
                    <!--/row-->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="control-label text-right col-md-3">Fecha final garantía:</label>
                                <div class="col-md-9">
                                    <p class="form-control-static"> @Model.fechaFinalGarantia </p>
                                </div>
                            </div>
                        </div>
                        <!--/span-->
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="control-label text-right col-md-3">Valor Adquisición:</label>
                                <div class="col-md-9">
                                    <p class="form-control-static"> @Model.valor </p>
                                </div>
                            </div>
                        </div>
                        <!--/span-->
                    </div>
                    <!--/row-->
                    <!--/row-->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="control-label text-right col-md-3">Estado:</label>
                                <div class="col-md-9">
                                    <p class="form-control-static"> @Model.estado </p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="control-label text-right col-md-3">Dependencia:</label>
                                <div class="col-md-9">
                                    <p class="form-control-static"> @Model.dependenciaIdStr </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="control-label text-right col-md-3">Modelo:</label>
                                <div class="col-md-9">
                                    <p class="form-control-static"> @Model.modeloIdStr </p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="control-label text-right col-md-3">Observación:</label>
                                <div class="col-md-9">
                                    <p class="form-control-static"> @Model.observacion </p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="row">
                            <div class="col-md-offset-3 col-md-9">
                                <button type="button" class="btn btn-info" onclick="ModalActualizar()"> <i class="fa fa-pencil"></i> Editar</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6"> </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Sección Historico -->
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header bg-info">
                <div class="row">
                    <div class="col-md-2 text-left">
                        <h4 class="card-title text-white m-b-40">Historico</h4>
                    </div>
                    <div class="col-md-10 text-right">
                        @if (User.IsInRole("Administrador") || User.IsInRole("Almacenista"))
                        {
                            <button type="button" class="btn btn-success" onclick="AbrirModal()"> Ticket</button>
                        }

                        @if (User.IsInRole("Administrador") || User.IsInRole("Diagnosticador"))
                        {
                            <button type="button" class="btn btn-success" onclick="AbrirModal3()"> Diagnosticar</button>
                        }

                        @if (User.IsInRole("Administrador") || User.IsInRole("Evaluaciones"))
                        {
                            <button type="button" class="btn btn-success" onclick="AbrirModal4()"> Evaluar</button>
                        }

                        @if (User.IsInRole("Administrador") || User.IsInRole("Reparaciones"))
                        {
                            <button type="button" class="btn btn-success" onclick="AbrirModal5()"> Reparar</button>
                        }
                    </div>
                </div>

            </div>
            <div class="card-body">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item"> <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home5" role="tab" aria-controls="home5" aria-expanded="true"><span class="hidden-sm-up"><i class="ti-home"></i></span> <span class="hidden-xs-down">Ticket</span></a> </li>
                    <li class="nav-item"> <a class="nav-link" id="diagnostico-tab" data-toggle="tab" href="#diagnostico" role="tab" aria-controls="profile"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down">Diagnostico</span></a></li>
                    <li class="nav-item"> <a class="nav-link" id="evaluacion-tab" data-toggle="tab" href="#evaluacion" role="tab" aria-controls="profile"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down">Evaluación</span></a></li>
                    <li class="nav-item"> <a class="nav-link" id="reparacion-tab" data-toggle="tab" href="#reparacion" role="tab" aria-controls="profile"><span class="hidden-sm-up"><i class="ti-user"></i></span> <span class="hidden-xs-down">Reparación</span></a></li>
                </ul>
                <div class="tab-content tabcontent-border p-20" id="myTabContent">
                    <div role="tabpanel" class="tab-pane fade show active" id="home5" aria-labelledby="home-tab">
                        <table class="display nowrap table table-hover table-striped table-bordered" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>Estado</th>
                                    <th>TicketId</th>
                                    <th>Activo</th>
                                    <th>Diagnostico</th>
                                    <th>Fecha diagnostico</th>
                                    <th>Evaluación</th>
                                    <th>Fecha evaluación</th>
                                    <th>Reparación</th>
                                    <th>Fecha reparación</th>
                                    <th>Fecha cierre</th>
                                    <th>Usuario creación</th>
                                    <th>Fecha creación</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.WorkFlows)
                                {
                                    <tr>
                                        <td><span class="badge badge-success">@item.estado</span></td>
                                        <td>@item.ticketId</td>
                                        <td>@item.activoId</td>
                                        <td>@item.diagnosticoId</td>
                                        <td>@item.fechaDiagnostico</td>
                                        <td>@item.evaluacionId</td>
                                        <td>@item.fechaEvaluacion</td>
                                        <td>@item.reparacionId</td>
                                        <td>@item.fechaReparacion</td>
                                        <td>@item.fechaCierre</td>
                                        <td>@item.usuarioCreacion</td>
                                        <td>@item.fechaCreacion</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="diagnostico" role="tabpanel" aria-labelledby="diagnostico-tab">
                        <table class="display nowrap table table-hover table-striped table-bordered" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>Descripción</th>
                                    <th>Fecha del diagnostico</th>
                                    <th>Apto</th>
                                    <th>Reparación</th>
                                    <th>Tecnico</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Se ve como dañado</td>
                                    <td>30/04/2022</td>
                                    <td>No</td>
                                    <td>Si</td>
                                    <td>Aldedier</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="evaluacion" role="tabpanel" aria-labelledby="evaluacion-tab">
                        <table class="display nowrap table table-hover table-striped table-bordered" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>Descripción</th>
                                    <th>Fecha del evaluación</th>
                                    <th>Decisión</th>
                                    <th>Tecnico</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Se puede arreglar</td>
                                    <td>30/04/2022</td>
                                    <td>Si</td>
                                    <td>Aldedier</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="reparacion" role="tabpanel" aria-labelledby="reparacion-tab">
                        <table class="display nowrap table table-hover table-striped table-bordered" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>Descripción</th>
                                    <th>Fecha del reparación</th>
                                    <th>Tecnico</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Ya lo arregle</td>
                                    <td>30/04/2022</td>
                                    <td>Fabio</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- Modal de creación Almacenista-->
<div class="modal fade" id="myModal1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header modal-colored-header bg-success">
                <h2 class="modal-title text-white" id="myLargeModalLabel">Crear Ticket</h2>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12 text-center">
                        <h2 class="modal-title" id="myLargeModalLabel">¿Desea crear un ticket a este elemento?</h2>
                    </div>
                </div>
            </div>
            <div class="modal-footer text-center" style="justify-content:center">
                <button type="button" class="btn btn-success waves-effect" onclick="CrearTicket()">
                    <span class="fas fa-save"></span> Crear
                </button>
            </div>
            <div class="row text-center">
                <div class="col-md-12">
                    <div id="notificacion" style="margin:20px"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de creación Diagnosticador-->
<div class="modal fade" id="myModal3" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header modal-colored-header bg-success">
                <h2 class="modal-title text-white" id="myLargeModalLabel">Diagnosticar</h2>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.Label("", "Apto", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                <div class="input-group">
                                    @Html.DropDownList("DESICION", null, String.Format("Seleccione una clase"), htmlAttributes: new { @class = "form-control select2", style = "width: 100%;", @id = "apto" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.Label("", "Reparación", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                <div class="input-group">
                                    @Html.DropDownList("DESICION", null, String.Format("Seleccione una clase"), htmlAttributes: new { @class = "form-control select2", style = "width: 100%;", @id = "reparacion" })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.Label("", "Descripción", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                <div class="input-group">
                                    @Html.TextArea("DESCRIPCION", new { @class = "form-control", @Required = true, cols = 10, rows = 4, @placeholder = "Descripción (Max 100 caracteres)", @maxlength = "100", id = "descripcion" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.Label("", "Fecha", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                <div class="input-group">
                                    @Html.Editor("FECHA", new { htmlAttributes = new { @class = "form-control date", type = "date", @Required = true, @id = "fechaCreacion" } })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer text-center" style="justify-content:center">
                <button type="button" class="btn btn-success waves-effect" onclick="GuardarDiagnostico()">
                    <span class="fas fa-save"></span> Guardar
                </button>
            </div>
            <div class="row text-center">
                <div class="col-md-12">
                    <div id="notificacion" style="margin:20px"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de creación Evaluaciones-->
<div class="modal fade" id="myModal4" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header modal-colored-header bg-success">
                <h2 class="modal-title text-white" id="myLargeModalLabel">Evaluar elemento</h2>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.Label("", "Desición Reparación", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                <div class="input-group">
                                    @Html.DropDownList("DESICION", null, String.Format("Seleccione una clase"), htmlAttributes: new { @class = "form-control select2", style = "width: 100%;", @id = "reparacion" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.Label("", "Fecha", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                <div class="input-group">
                                    @Html.Editor("FECHA", new { htmlAttributes = new { @class = "form-control date", type = "date", @Required = true, @id = "fecha" } })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.Label("", "Descripción", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                <div class="input-group">
                                    @Html.TextArea("DESCRIPCION", new { @class = "form-control", @Required = true, cols = 10, rows = 4, @placeholder = "Descripción (Max 100 caracteres)", @maxlength = "100", id = "descripcion" })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer text-center" style="justify-content:center">
                <button type="button" class="btn btn-success waves-effect" onclick="GuardarEvaluacion()">
                    <span class="fas fa-save"></span> Guardar
                </button>
            </div>
            <div class="row text-center">
                <div class="col-md-12">
                    <div id="notificacion" style="margin:20px"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de creación Reparaciones-->
<div class="modal fade" id="myModal5" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header modal-colored-header bg-success">
                <h2 class="modal-title text-white" id="myLargeModalLabel">Reportar reparación</h2>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.Label("", "Descripción", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                <div class="input-group">
                                    @Html.TextArea("DESCRIPCION", new { @class = "form-control", @Required = true, cols = 10, rows = 4, @placeholder = "Descripción (Max 100 caracteres)", @maxlength = "100", id = "descripcion" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.Label("", "Fecha", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                <div class="input-group">
                                    @Html.Editor("FECHA", new { htmlAttributes = new { @class = "form-control date", type = "date", @Required = true, @id = "fecha" } })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer text-center" style="justify-content:center">
                <button type="button" class="btn btn-success waves-effect" onclick="GuardarReparacion()">
                    <span class="fas fa-save"></span> Guardar
                </button>
            </div>
            <div class="row text-center">
                <div class="col-md-12">
                    <div id="notificacion" style="margin:20px"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de actualización Activo -->
<div class="modal fade" id="myModal2" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header modal-colored-header bg-success">
                <h2 class="modal-title text-white" id="myLargeModalLabel">Actualizar Activo</h2>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="claseIdAct" name="claseIdAct" value="" />
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            @Html.Label("", "Clase", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                @Html.DropDownList("CLASE", null, String.Format("Seleccione una clase"), htmlAttributes: new { @class = "form-control select2", style = "width: 100%;", @id = "claseId" })
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            @Html.Label("", "Marca", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                @Html.DropDownList("MARCA", null, String.Format("Seleccione una marca"), htmlAttributes: new { @class = "form-control select2", style = "width: 100%;", @id = "marcaId" })
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            @Html.Label("", "Modelo", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                @Html.DropDownList("MODELO", null, String.Format("Seleccione un modelo"), htmlAttributes: new { @class = "form-control select2", style = "width: 100%;", @id = "modeloId" })
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            @Html.Label("", "Serial", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                @Html.Editor("serial", new { htmlAttributes = new { @class = "form-control", @style = "text-transform: uppercase;", type = "text", @Required = true, @id = "serial", @placeholder = "Digite el serial" } })
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            @Html.Label("", "Fecha ingreso", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                @Html.Editor("fechaIngreso", new { htmlAttributes = new { @class = "form-control date", type = "date", @Required = true, @id = "fechaIngreso", @placeholder = "Digite la fecha ingreso" } })
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            @Html.Label("", "Fecha final garantía", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                @Html.Editor("fechaFinalGarantia", new { htmlAttributes = new { @class = "form-control date", type = "date", @Required = true, @id = "fechaFinalGarantia", @placeholder = "Digite la fecha final garantía" } })
                            </div>
                        </div>
                    </div>

                </div>

                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            @Html.Label("", "Valor", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                @Html.Editor("valor", new { htmlAttributes = new { @class = "form-control", type = "text", @Required = true, @id = "valor", @placeholder = "Digite el valor" } })
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            @Html.Label("", "Estado", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                @Html.DropDownList("estado", null, String.Format("Seleccione un estado"), htmlAttributes: new { @class = "form-control select2", style = "width: 100%;", @id = "estado" })
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            @Html.Label("", "Dependencia", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                @Html.DropDownList("DEPENDENCIA", null, String.Format("Seleccione una dependencia"), htmlAttributes: new { @class = "form-control select2", style = "width: 100%;", @id = "dependenciaId"})
                            </div>
                        </div>
                    </div>
                </div>
                <!--/row-->
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            @Html.Label("", "Observación", htmlAttributes: new { @class = "control-label col-md-12" })
                            <div class="col-md-12">
                                <div class="input-group">
                                    @Html.TextArea("observacion", new { @class = "form-control", @Required = true, cols = 10, rows = 4, @placeholder = "Observación (Max 100 caracteres)", @maxlength = "1000", id = "observacion" })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer text-center" style="justify-content:center">
                <button type="button" class="btn btn-success waves-effect" onclick="Actualizar()">
                    <span class="fas fa-save"></span> Actualizar
                </button>
            </div>
            <div class="row text-center">
                <div class="col-md-12">
                    <div id="notificacion" style="margin:20px"></div>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="~/Plantilla/assets/plugins/jquery/jquery.min.js"></script>
<script src="~/Plantilla/assets/plugins/sweetalert/sweetalert.min.js"></script>

<script>
    function AbrirModal() {
        $("#myModal1").modal("show");
    }

    function AbrirModal3() {
        $("#myModal3").modal("show");
    }

    function AbrirModal4() {
        $("#myModal4").modal("show");
    }

    function AbrirModal5() {
        $("#myModal5").modal("show");
    }

    function ModalActualizar() {
        $("#fechaIngreso").val('@Model.fechaIngresoStr');
        $("#fechaFinalGarantia").val('@Model.fechaFinalGarantiaStr');
        $("#myModal2").modal("show");
    }

    function Actualizar() {
        var activoDTO =
        {
            itemId: @Model.itemId,
            claseId: $("#claseId").val(),
            marcaId: $("#marcaId").val(),
            modeloId: $("#modeloId").val(),
            serial: $("#serial").val(),
            fechaIngreso: $("#fechaIngreso").val(),
            fechaFinalGarantia: $("#fechaFinalGarantia").val(),
            valor: $("#valor").val(),
            fechaBaja: $("#fechaBaja").val(),
            estado: $("#estado").val(),
            observacion: $("#observacion").val(),
            dependenciaId: $("#dependenciaId").val()
        };

        $.ajax({
            url: '@Url.Action("ActualizarActivo", "Activo")',
            data: activoDTO,
            type: 'POST',
            dataType: 'json',
            success: function(data) {
                if (data.ok) {
                    Swal.fire({
                        title: 'Exito',
                        text: data.mensaje,
                        icon: 'success',
                        showCancelButton: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Aceptar'
                    }).then((result) => {
                        location.reload();
                    });
                }
                else {
                    Swal.fire({
                        title: 'Atención',
                        text: data.mensaje,
                        icon: 'warning',
                        showCancelButton: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Aceptar'
                    });
                }
            },
            error: function(xhr, status) {
                Swal.fire({
                    title: 'Error',
                    text: data.mensaje,
                    icon: 'error',
                    showCancelButton: false,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Aceptar'
                });
            }
        });
    }
</script>

